"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decorateConstants = decorateConstants;

var _util = require("@polkadot/util");

// Copyright 2017-2021 @polkadot/types authors & contributors
// SPDX-License-Identifier: Apache-2.0

/** @internal */
// eslint-disable-next-line @typescript-eslint/no-unused-vars
function decorateConstants(registry, {
  pallets
}, _metaVersion) {
  const result = {};

  for (let p = 0; p < pallets.length; p++) {
    const {
      constants,
      name
    } = pallets[p];

    if (!constants.isEmpty) {
      const newModule = {};

      for (let c = 0; c < constants.length; c++) {
        const meta = constants[c];
        const codec = registry.createTypeUnsafe(registry.createLookupType(meta.type), [(0, _util.hexToU8a)(meta.value.toHex())]);
        codec.meta = meta;
        newModule[(0, _util.stringCamelCase)(meta.name)] = codec;
      } // For access, we change the index names, i.e. Democracy.EnactmentPeriod -> democracy.enactmentPeriod


      result[(0, _util.stringCamelCase)(name)] = newModule;
    }
  }

  return result;
}